# =============================================================
# CoinAutoTrading Bot 설정 파일
# =============================================================
# 모든 금액 단위: KRW (원)
# 모든 비율 단위: % (퍼센트)
# =============================================================

# -------------------------------------------------------------
# 거래 대상 설정
# -------------------------------------------------------------
trading:
  # 거래 대상 마켓 목록 (Upbit 마켓 코드)
  markets:
    - KRW-BTC
    - KRW-ETH
  # 시세 조회 간격 (초) - 메인 루프 대기 시간
  poll_interval: 60
  # 캔들 기준 시간프레임 ("minute1", "minute5", "minute15", "minute60", "day")
  timeframe: "minute60"
  # 캔들 조회 개수 (지표 계산에 필요한 과거 데이터 수)
  candle_count: 200

# -------------------------------------------------------------
# 투자 금액 설정
# -------------------------------------------------------------
investment:
  # 총 투자 가능 금액 (KRW)
  max_total_investment: 1000000
  # 1회 매수 금액 (KRW)
  per_trade_amount: 100000
  # 최소 주문 금액 (Upbit 최소 주문: 5,000 KRW)
  min_order_amount: 5000

# -------------------------------------------------------------
# 리스크 관리 설정
# -------------------------------------------------------------
risk:
  # 손절 비율 (%) - 매수가 대비 이 비율 이상 하락 시 손절
  stop_loss_pct: 3.0
  # 익절 비율 (%) - 매수가 대비 이 비율 이상 상승 시 익절
  take_profit_pct: 5.0
  # 일일 최대 손실 금액 (KRW) - 이 금액 초과 시 당일 거래 중단
  max_daily_loss: 50000
  # 최대 동시 보유 종목 수
  max_positions: 3
  # 트레일링 스탑 사용 여부
  trailing_stop_enabled: false
  # 트레일링 스탑 비율 (%) - 고점 대비 이 비율 하락 시 매도
  trailing_stop_pct: 2.0

# -------------------------------------------------------------
# 전략 설정
# -------------------------------------------------------------
strategy:
  # 활성 전략 이름 ("rsi", "ma_cross", "bollinger", "combined")
  active: "rsi"

  # RSI 전략 파라미터
  rsi:
    period: 14           # RSI 계산 기간
    oversold: 30         # 이 값 이하이면 매수 신호
    overbought: 70       # 이 값 이상이면 매도 신호

  # 이동평균 교차 전략 파라미터
  ma_cross:
    short_period: 5      # 단기 이동평균 기간
    long_period: 20      # 장기 이동평균 기간
    ma_type: "EMA"       # 이동평균 유형 ("SMA", "EMA")

  # 볼린저밴드 전략 파라미터
  bollinger:
    period: 20           # 볼린저밴드 기간
    std_dev: 2.0         # 표준편차 배수
    # 하단밴드 이탈 시 매수, 상단밴드 이탈 시 매도

# -------------------------------------------------------------
# 백테스팅 설정
# -------------------------------------------------------------
backtest:
  # 백테스트 기간 (일) - start_date 미지정 시 현재로부터 이 기간만큼 과거 데이터 사용
  period_days: 30
  # 백테스트 시작일 (YYYY-MM-DD) - 명시하면 period_days 무시
  start_date: ""
  # 백테스트 종료일 (YYYY-MM-DD) - 비워두면 현재 날짜 사용
  end_date: ""
  # 초기 자본금 (KRW)
  initial_capital: 1000000
  # 수수료율 (Upbit 매매 수수료 0.05%)
  commission_rate: 0.0005

# -------------------------------------------------------------
# 로깅 설정
# -------------------------------------------------------------
logging:
  # 로그 레벨 ("DEBUG", "INFO", "WARNING", "ERROR")
  level: "INFO"
  # 로그 파일 경로
  file: "logs/trading.log"
  # 로그 파일 최대 크기 (MB)
  max_size_mb: 10
  # 로그 파일 백업 개수
  backup_count: 5

# -------------------------------------------------------------
# 알림 설정
# -------------------------------------------------------------
notification:
  # 알림 활성화 여부
  enabled: false
  # 알림 채널 ("telegram", "slack")
  channel: "telegram"
  # 알림 이벤트 (어떤 이벤트에 알림을 보낼지)
  events:
    - "order_executed"          # 주문 체결 시
    - "stop_loss_triggered"     # 손절 발동 시
    - "take_profit_triggered"   # 익절 발동 시
    - "daily_report"            # 일일 리포트
    - "error"                   # 오류 발생 시
